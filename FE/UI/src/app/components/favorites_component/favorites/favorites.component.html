<!-- UI/src/app/components/favorites_component/favorites/favorites.component.html -->
<div class="favorites-container">
  <div class="icon">
    <fa-icon [icon]="faHeart"></fa-icon>
  </div>
  <h1>My Favorites</h1>

  @if (favoriteProducts.length > 0) {
  <div class="favorites-layout">
    <!-- Лява колона с любими продукти -->
    <div class="favorites-list">
      @for (product of favoriteProducts; track product.id) {
      <div class="favorite-item">
        <div class="item-content" (click)="goToDetails(product.id)">
          <div class="item-image">
            <img [src]="product.picture" [alt]="product.name" />
          </div>
          <div class="item-details">
            <div class="product-info">
              <h2>{{ product.manufacturer }} {{ product.model }}</h2>
              <p class="price">Price: ${{ product.price }}</p>
              <p class="condition">Condition: {{ product.condition }}</p>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <button class="add-to-cart-btn" (click)="addToCart(product)">
            <fa-icon [icon]="faCartPlus"></fa-icon>
            Add to Cart
          </button>
          <button class="remove-btn" (click)="removeFromFavorites(product.id)">
            <fa-icon [icon]="faTrash"></fa-icon>
            Remove
          </button>
        </div>
      </div>
      }
    </div>

    <!-- Дясна колона със статистика -->
    <div class="favorites-summary">
      <h3>Favorites Summary</h3>
      <div class="summary-item">
        <span>Total Items:</span>
        <span>{{ favoriteProducts.length }}</span>
      </div>
      <div class="summary-item">
        <span>Total Value:</span>
        <span>${{ getTotalValue() }}</span>
      </div>
      <button class="view-all-btn" routerLink="/pawn-shop/main-page">
        <fa-icon [icon]="faShop"></fa-icon>
        Browse More Products
      </button>
    </div>
  </div>
  } @else {
  <div class="empty-favorites">
    <fa-icon [icon]="faHeartBroken"></fa-icon>
    <p>No favorite products yet</p>
    <button routerLink="/pawn-shop/main-page" class="browse-btn">
      <fa-icon [icon]="faShop"></fa-icon>
      Browse Products
    </button>
  </div>
  }
</div>
